<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0">
    <meta name="description" content="
题面好像有一点锅
A
小YY有一个nn行mm列的方格纸，每一个格子上都写有一个小写英文字母。
小YY会将每一行单独取出来，将这一行的字符从左到右拼起来组成一个单词，并将这个单词加入小YY的字典。
类似的，小YY也会将每一列单独取出来，将这..." />
    <meta name="keywords" content="模拟赛,CSP2020" />
    <link rel="stylesheet" href="https://aurora-wangq.github.io//media/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://aurora-wangq.github.io//styles/main.css">
    
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/styles/dracula.min.css">
    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/850552586/ericamcdn@0.1/js/clipboard.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/850552586/ericamcdn@0.1/css/live2d.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.1/css/all.min.css" rel="stylesheet">
    <!-- 数学公式 -->
    
    <title>Aurora</title>
    
    <style>
        .markdownIt-TOC {
            padding-left: 2px;
            width: 100%;
        }

        .markdownIt-TOC li {
            padding-left: 2%;
        }
    </style>
    
</head>

<body>
    <div id="landlord">
        <div class="message" style="opacity:0"></div>
        <canvas id="live2d" width="240" height="250" class="live2d"></canvas>
    </div>
    <div id="codeCopyText" style="display: none"></div>
    <div id="domainname" style="display:none">https://aurora-wangq.github.io/</div>
    <!-- 响应式布局，针对PC端内容显示 -->
    <div id="content">
        <div>
            <div id="bar">
                <head>
  <!-- 引入Bootstrap核心样式文件 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/850552586/ericamcdn@0.1/css/bootstrap.min.css">
</head>
<style>
  @media screen and (max-width:1200px) and (min-width: 768px) {
    @media (min-width: 768px) {
      .navbar-nav {
        float: right;
        margin: 0;
      }
    }
  }
  @media screen and (max-width:768px){
    .mbapspan{
      padding: 0;
    }
  }
</style>

<body>
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#barmenu"
          aria-expanded="false" id="barbutton">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="https://aurora-wangq.github.io/">Aurora&nbsp;&nbsp;|</a>
        <span class="navbar-brand mbapspan"><i id="mbaplayer" class="fa fa-play-circle-o" aria-hidden="true"
            style="font-size: 28px;top: 12px;position: absolute;" onclick="aplayerPlay();"></i></span>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="barmenu">
        <ul class="nav navbar-nav">
          
          
          <li>
            <a href="/archives">
              归档
            </a>
          </li>
          
          
          
          <li>
            <a href="/tags">
              标签
            </a>
          </li>
          
          
          
          <li>
            <a href="/post/about">
              关于
            </a>
          </li>
          
          
          
          <li><a href="https://aurora-wangq.github.io/tag/fvu_PxoC_/" target="_blank">
              CSP2020
            </a></li>
          
          
          
          
        </ul>
      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
  </nav>


  <!-- 引入jQuery核心js文件 -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>
  <script>
  var btstate = false;
  var bt = $("#barbutton");
  var bm = $("#barmenu");
  bt.click(function(){
    dropdown();
  })
  function dropdown(){
    console.log(btstate);
    //下拉
    if(btstate==false){
      bt.removeClass("collapsed");
      bt.attr("aria-expanded","true");
      bm.attr("aria-expanded","true")
      bm.fadeIn(700);
      btstate = true;
    }
    else{
      bt.addClass("collapsed");
      bt.attr("aria-expanded","false");
      bm.removeClass("in");
      bm.hide();
      bm.attr("aria-expanded","false");
      btstate = false;
    }
  }
  </script> 
</body>
            </div>
            <div class="row">
                <div class="side"><body>
    



    
</body>
<script>
    //-------------------------------------------------搜索
    // 获取搜索框、搜索按钮、清空搜索、结果输出对应的元素
    var searchInput = document.querySelector('.search-input');
    var searchResults = document.querySelector('.search-results');

    // 申明保存文章的标题、链接、内容的数组变量
    var searchValue = '',
        arrItems = [],
        arrLinks = [],
        arrTitles = [],
        arrResults = [],
        indexItem = [],
        itemLength = 0;
    var tmpDiv = document.createElement('div');
    tmpDiv.className = 'result-item';

    // ajax 的兼容写法
    var xhr = new XMLHttpRequest() || new ActiveXObject('Microsoft.XMLHTTP');
    xhr.onreadystatechange = function () {
        if (xhr.readyState == 4 && xhr.status == 200) {
            xml = xhr.responseXML;
            arrItems = xml.getElementsByTagName('entry');
            itemLength = arrItems.length;
            // 遍历并保存所有文章对应的标题、链接、内容到对应的数组中
            // 同时过滤掉 HTML 标签
            for (i = 0; i < itemLength; i++) {
                var link = arrItems[i].getElementsByTagName('link')[0];
                arrLinks[i] = link.getAttribute("href");
                arrTitles[i] = arrItems[i].getElementsByTagName('title')[0].
                childNodes[0].nodeValue.replace(/<.*?>/g, '');
            }
        }
    }

    // 开始获取根目录下 feed.xml 文件内的数据
    xhr.open('get', '/atom.xml', true);
    xhr.send();



    // 输入框内容变化后就开始匹配，可以不用点按钮
    // 经测试，onkeydown, onchange 等方法效果不太理想，
    // 存在输入延迟等问题，最后发现触发 input 事件最理想，
    // 并且可以处理中文输入法拼写的变化
    searchInput.oninput = function () {
        setTimeout(searchConfirm, 0);
    }
    searchInput.onfocus = function () {
        searchResults.style.display = 'block';
    }

    function searchConfirm() {
        if (searchInput.value == '') {
            searchResults.style.display = 'none';
        } else if (searchInput.value.search(/^\s+$/) >= 0) {
            // 检测输入值全是空白的情况
            searchInit();
            var itemDiv = tmpDiv.cloneNode(true);
            itemDiv.innerText = '请输入有效内容...';
            searchResults.appendChild(itemDiv);
        } else {
            // 合法输入值的情况
            searchInit();
            searchValue = searchInput.value;
            // 在标题、内容中查找
            searchMatching(arrTitles, searchValue);
        }
    }

    // 每次搜索完成后的初始化
    function searchInit() {
        arrResults = [];
        indexItem = [];
        searchResults.innerHTML = '';
        searchResults.style.display = 'block';
    }

    function searchMatching(arr1, input) {
        // 忽略输入大小写
        input = new RegExp(input, 'i');
        // 在所有文章标题、内容中匹配查询值
        for (i = 0; i < itemLength; i++) {
            if (arr1[i].search(input) !== -1) {
                var arr = arr1;
                indexItem.push(i); // 保存匹配值的索引
                var indexContent = arr[i].search(input);
                // 此时 input 为 RegExp 格式 /input/i，转换为原 input 字符串长度
                var l = input.toString().length - 3;
                var step = 10;

                // 将匹配到内容的地方进行黄色标记，并包括周围一定数量的文本
                arrResults.push(arr[i].slice(indexContent - step, indexContent));
            }
        }

        // 输出总共匹配到的数目
        var totalDiv = tmpDiv.cloneNode(true);
        totalDiv.innerHTML = '<b>总匹配：' + indexItem.length + ' 项<hr></b>';
        searchResults.appendChild(totalDiv);

        // 未匹配到内容的情况
        if (indexItem.length == 0) {
            var itemDiv = tmpDiv.cloneNode(true);
            itemDiv.innerText = '未匹配到内容...';
            searchResults.appendChild(itemDiv);
        }

        // 将所有匹配内容进行组合
        for (i = 0; i < arrResults.length; i++) {
            var itemDiv = tmpDiv.cloneNode(true);
            itemDiv.innerHTML = '<b>[' + arrTitles[indexItem[i]] +
                ']</b><p>' + arrResults[i] + "</p><hr />";
            itemDiv.setAttribute('onclick', 'changeHref(arrLinks[indexItem[' + i + ']])');
            searchResults.appendChild(itemDiv);
        }
    }

    function changeHref(href) {
        location.href = href;
    }

    function showqq() {
        var qq = document.getElementById("qq").innerHTML;
        if (qq != '')
            window.location.href = "tencent://message/?uin=" + qq + "&Site=&Menu=yes";
        else
            alert("博主暂未设置QQ联系方式");
    }
</script>
</div>
                
            <div class="col-md-2 col-lg-3"></div>
            <div id="postmain" class="col-xs-12 col-sm-12 col-md-8  col-lg-6 posttop" >
                <link rel="stylesheet" href="https://aurora-wangq.github.io//media/css/font-awesome.css">

<body>
    <div class="allcontent" id="postdetail">
        <div class="postshow" style="padding-bottom: 0;">
            
            <div class="postdetailimg" style="width:100%;overflow: hidden;">
                <img src="https://aurora-wangq.github.io//post-images/csp-s2-zhou-mo-shua-ti-ban-di-yi-chang.jpg" class="postimage" style="cursor:auto">
            </div>
            <div class="postinfo-detail">
                <div class="postdate"><i class="fa fa-calendar"></i>2020-10-17</div>
                <div class="poststatus postdate"><i class="fa fa-clock-o"></i> 23 min read</div>
                <div class="posttag">
                    
                    <a href="https://aurora-wangq.github.io/tag/h4_c-Nm_m/" class="postlink">
                        <i class="fa fa-tag"></i> 模拟赛
                    </a>
                    
                    <a href="https://aurora-wangq.github.io/tag/fvu_PxoC_/" class="postlink">
                        <i class="fa fa-tag"></i> CSP2020
                    </a>
                    
                </div>
            </div>
            
        <div id="articlecontent">
            <div id="texttitle" style="text-align: center">
                <h2>CSP-S2周末刷题班（第一场）</h2>
                <!-- id 将作为查询条件 -->
                <div id="pl" style="display:none">https://aurora-wangq.github.io/post/csp-s2-zhou-mo-shua-ti-ban-di-yi-chang/</div>
                <div id="rootaddr" style="display:none">https://aurora-wangq.github.io/</div>
                <span id="hotnum">
                    <h4><i class="fa fa-eye" aria-hidden="true" style="color: #FF8C00;"></i>&nbsp;&nbsp;热度</i>: <i
                            class="hotnum">loading...</i></h4>
                </span>
            </div>
            <div class="text ">
                <!-- more -->
<p><strong>题面好像有一点锅</strong></p>
<h2 id="a">A</h2>
<p>小YY有一个nn行mm列的方格纸，每一个格子上都写有一个小写英文字母。</p>
<p>小YY会将每一行单独取出来，将这一行的字符从左到右拼起来组成一个单词，并将这个单词加入小YY的字典。</p>
<p>类似的，小YY也会将每一列单独取出来，将这一列的字符从上到下拼起来组成一个单词，并将这个单词加入字典。</p>
<p>现在，小YY想知道，他的字典里有多少本质不同的单词？两个单词本质相同当且仅当他们长度相同且对应位置都相同。</p>
<p>方格纸上的字母可能会有修改，具体来说，有QQ次修改，每次将第xx行第yy列的字符修改为chch, 你需要在每次修改之后和第一次修改之前回答小YY的问题，<strong>这些操作是叠加的</strong>.</p>
<p><strong>注意：小Y的字典也是叠加的，所以他会在每次修改之后和第一次修改之前将当前每一行每一列的单词加入字典</strong></p>
<h4 id="输入格式">输入格式</h4>
<p>第一行三个整数n,m,Qn,m,Q，表示方格纸的大小和修改次数。</p>
<p>接下来nn行每行mm个字符，表示方格纸上初始的字母。</p>
<p>接下来QQ行每行两个整数和一个字符x,y,chx,y,ch，表示一次修改。</p>
<h4 id="输出格式">输出格式</h4>
<p>输出Q+1Q+1行，表示在第一次修改前和每次修改之后的答案。</p>
<h4 id="样例输入-1">样例输入 1</h4>
<pre><code>2 2 2
ab
ba
1 2 a
2 1 a
</code></pre>
<h4 id="样例输出-1">样例输出 1</h4>
<pre><code>2
3
3
</code></pre>
<h4 id="样例输入-2">样例输入 2</h4>
<pre><code>2 2 2
ab
ba
1 2 a
2 1 c
</code></pre>
<h4 id="样例输出-2">样例输出 2</h4>
<pre><code>2
3
5
</code></pre>
<h4 id="样例输入-3">样例输入 3</h4>
<pre><code>3 3 20
ccb
bcb
aab
3 3 c
2 1 b
3 2 c
1 1 a
1 3 a
2 2 a
3 3 c
3 1 c
1 1 b
3 2 b
1 3 a
3 1 a
3 1 b
3 2 c
3 2 a
1 2 c
1 2 b
2 3 c
1 1 b
2 3 b
</code></pre>
<h4 id="样例输出-3">样例输出 3</h4>
<pre><code>6
8
8
10
12
14
16
16
16
17
19
19
20
20
21
23
23
24
24
24
24
</code></pre>
<h4 id="数据范围与提示">数据范围与提示</h4>
<table>
<thead>
<tr>
<th>测试点编号</th>
<th>n,mn,m</th>
<th>QQ</th>
<th>特殊性质</th>
</tr>
</thead>
<tbody>
<tr>
<td>11</td>
<td>≤10≤10</td>
<td>≤200≤200</td>
<td>无</td>
</tr>
<tr>
<td>22</td>
<td>≤30≤30</td>
<td>≤300≤300</td>
<td>无</td>
</tr>
<tr>
<td>33</td>
<td>≤100≤100</td>
<td>=0=0</td>
<td>无</td>
</tr>
<tr>
<td>44</td>
<td>≤200≤200</td>
<td>≤2000≤2000</td>
<td>无</td>
</tr>
<tr>
<td>55</td>
<td>≤2000≤2000</td>
<td>=0=0</td>
<td>无</td>
</tr>
<tr>
<td>66</td>
<td>≤2000≤2000</td>
<td>≤2000≤2000</td>
<td>无</td>
</tr>
<tr>
<td>77</td>
<td>≤2000≤2000</td>
<td>≤105≤105</td>
<td>字符只有'a','b'</td>
</tr>
<tr>
<td>88</td>
<td>≤2000≤2000</td>
<td>≤105≤105</td>
<td>无</td>
</tr>
<tr>
<td>99</td>
<td>≤3000≤3000</td>
<td>≤5×105≤5×105</td>
<td>字符只有'a','b'</td>
</tr>
<tr>
<td>1010</td>
<td>≤3000≤3000</td>
<td>≤5×105≤5×105</td>
<td>无</td>
</tr>
</tbody>
</table>
<!-- more -->
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
#define LL long long
#define mp make_pair
#define pb push_back
using namespace std;
const int Maxn=3005;
const int mod1=998244353;
const int mod2=1e9+7;
const int bas=114514;
int pw1[Maxn],pw2[Maxn];
int r1[Maxn],r2[Maxn];
int c1[Maxn],c2[Maxn];
int n,m,q;
char s[Maxn][Maxn];
int hd[1145141],nxt[1145141],kc,sz;
LL val[1145141];
void Ins(LL v){
	int pos=v%1145141;
	bool flag=true;
	for (int i=hd[pos];~i;i=nxt[i]){
		if (val[i]==v) flag=false;
	}
	if (flag){
		val[kc]=v;
		nxt[kc]=hd[pos];
		hd[pos]=kc++;
		sz++;
	}
}

int main() {
	scanf(&quot;%d%d%d&quot;,&amp;n,&amp;m,&amp;q);
	assert(1&lt;=n &amp;&amp; n&lt;=3000 &amp;&amp; 1&lt;=m &amp;&amp; m&lt;=3000 &amp;&amp; 0&lt;=q &amp;&amp; q&lt;=500000);
	for (int i=0;i&lt;n;i++){
		scanf(&quot;%s&quot;,s[i]);
		for (int j=0;j&lt;m;j++){
			assert(s[i][j]&gt;='a' &amp;&amp; s[i][j]&lt;='z');
		}
	}
	pw1[0]=pw2[0]=1;
	for (int i=1;i&lt;n;i++){
		pw1[i]=1ll*pw1[i-1]*bas%mod1;
		pw2[i]=1ll*pw2[i-1]*bas%mod2;
	}
	for (int i=0;i&lt;n;i++){
		for (int j=0;j&lt;m;j++){
			r1[i]=(1ll*r1[i]*bas+s[i][j])%mod1;
			r2[i]=(1ll*r2[i]*bas+s[i][j])%mod2;
			
			c1[j]=(1ll*c1[j]*bas+s[i][j])%mod1;
			c2[j]=(1ll*c2[j]*bas+s[i][j])%mod2;
		}
	}
	for (int i=0;i&lt;1145141;i++) hd[i]=-1;
	for (int i=0;i&lt;n;i++){
		Ins(1ll*r1[i]*mod2+r2[i]);
	}
	for (int i=0;i&lt;m;i++){
		Ins(1ll*c1[i]*mod2+c2[i]);
	}
	
	printf(&quot;%d\n&quot;,sz);
	while (q--){
		int x,y;
		char ch;
		scanf(&quot;%d %d %c&quot;,&amp;x,&amp;y,&amp;ch);
		assert(x&gt;=1 &amp;&amp; x&lt;=n &amp;&amp; y&gt;=1 &amp;&amp; y&lt;=m &amp;&amp; ch&gt;='a' &amp;&amp; ch&lt;='z');
		x--;y--;
		int dlt=(int)ch-(int)s[x][y];
		(r1[x]+=1ll*dlt*pw1[m-y-1]%mod1)%=mod1;
		if (r1[x]&lt;0) r1[x]+=mod1;
		(r2[x]+=1ll*dlt*pw2[m-y-1]%mod2)%=mod2;
		if (r2[x]&lt;0) r2[x]+=mod2;
		(c1[y]+=1ll*dlt*pw1[n-x-1]%mod1)%=mod1;
		if (c1[y]&lt;0) c1[y]+=mod1;
		(c2[y]+=1ll*dlt*pw2[n-x-1]%mod2)%=mod2;
		if (c2[y]&lt;0) c2[y]+=mod2;
		Ins(1ll*r1[x]*mod2+r2[x]);
		Ins(1ll*c1[y]*mod2+c2[y]);
		s[x][y]=ch;
		printf(&quot;%d\n&quot;,sz);
	}
	return 0;
	
}
</code></pre>
<hr>
<h2 id="b">B</h2>
<p>小YY有一棵nn个点n−1n−1条边的树，他首先会选择其中一个点作为起点，然后开始他的树上之旅。</p>
<p>他每次可以选择以下三种操作之一。</p>
<ol>
<li>结束这次旅行，小YY当前所在的节点就是终点。</li>
<li>走正好aa步，每一步走到当前点相邻的一个点，不能经过所有之前走到过的边。</li>
<li>走正好bb步，每一步走到当前点相邻的一个点，不能经过所有之前走到过的边。</li>
</ol>
<p>现在他想知道，对于每个的起点v=1...nv=1...n, 能走到多少个不同的终点？</p>
<p>多组测试。</p>
<h4 id="输入格式-2">输入格式</h4>
<p>第一行一个整数TT，表示测试点个数。</p>
<p>每个测试点第一行三个整数n,a,bn,a,b.</p>
<p>接下来n−1n−1行每行两个整数u,vu,v表示树上的一条边。</p>
<h4 id="输出格式-2">输出格式</h4>
<p>输出一行nn个数，第ii个数表示ii号点作为起点的答案。</p>
<h4 id="输入样例-1">输入样例 1</h4>
<pre><code>1
5 2 3
1 2
1 3
3 4
4 5
</code></pre>
<h4 id="输出样例-1">输出样例 1</h4>
<pre><code>3 4 3 3 4
</code></pre>
<h4 id="输入样例-2">输入样例 2</h4>
<pre><code>2
10 3 4
1 2
1 3
3 4
3 5
4 6
4 7
4 8
8 9
9 10
10 2 2
1 2
1 3
3 4
3 5
4 6
4 7
4 8
8 9
9 10
</code></pre>
<h4 id="输出样例-2">输出样例 2</h4>
<pre><code>5 7 3 3 6 6 6 4 6 6 
4 6 6 4 4 6 6 6 4 6
</code></pre>
<h4 id="数据范围与提示-2">数据范围与提示</h4>
<table>
<thead>
<tr>
<th>测试点编号</th>
<th>nn</th>
<th>a,ba,b</th>
<th>特殊性质</th>
</tr>
</thead>
<tbody>
<tr>
<td>11</td>
<td>≤100≤100</td>
<td>≤10≤10</td>
<td>无</td>
</tr>
<tr>
<td>22</td>
<td>≤2000≤2000</td>
<td>≤10≤10</td>
<td>无</td>
</tr>
<tr>
<td>33</td>
<td>≤105≤105</td>
<td>≤5≤5</td>
<td>a=ba=b</td>
</tr>
<tr>
<td>44</td>
<td>≤105≤105</td>
<td>≤5≤5</td>
<td>a,b互质a,b互质</td>
</tr>
<tr>
<td>55</td>
<td>≤105≤105</td>
<td>≤10≤10</td>
<td>a=ba=b</td>
</tr>
<tr>
<td>66</td>
<td>≤105≤105</td>
<td>≤10≤10</td>
<td>树随机生成</td>
</tr>
<tr>
<td>77</td>
<td>≤105≤105</td>
<td>≤10≤10</td>
<td>树形态为一条链</td>
</tr>
<tr>
<td>88</td>
<td>≤105≤105</td>
<td>≤5≤5</td>
<td>无</td>
</tr>
<tr>
<td>99</td>
<td>≤105≤105</td>
<td>≤10≤10</td>
<td>无</td>
</tr>
<tr>
<td>1010</td>
<td>≤105≤105</td>
<td>≤10≤10</td>
<td>无</td>
</tr>
</tbody>
</table>
<p>对于所有的数据，T≤3,n≤105,1≤a,b≤10,1≤u,v≤n,u≠v</p>
<!-- more -->
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
#define LL long long
#define pb push_back
#define mp make_pair
#define pii pair&lt;int,int&gt;
using namespace std;
namespace IO
{
    const int sz=1&lt;&lt;15;
    char inbuf[sz],outbuf[sz];
    char *pinbuf=inbuf+sz;
    char *poutbuf=outbuf;
    inline char _getchar()
    {
        if (pinbuf==inbuf+sz)fread(inbuf,1,sz,stdin),pinbuf=inbuf;
        return *(pinbuf++);
    }
    inline void _putchar(char x)
    {
        if (poutbuf==outbuf+sz)fwrite(outbuf,1,sz,stdout),poutbuf=outbuf;
        *(poutbuf++)=x;
    }
    inline void flush()
    {
        if (poutbuf!=outbuf)fwrite(outbuf,1,poutbuf-outbuf,stdout),poutbuf=outbuf;
    }
}
inline int read(){
	int v=0,f=1;
	char c=getchar();
	while (c&lt;'0' || c&gt;'9'){
		if (c=='-') f=-1;
		c=getchar();
	}
	while (c&gt;='0' &amp;&amp; c&lt;='9'){
		v=v*10+c-'0';
		c=getchar();
	}
	return v*f;
}
const int Maxn=100005;
int n,a,b,g,D;
vector&lt;int&gt; G[Maxn];
int dp1[Maxn][80],dp2[Maxn][11];
int ans1[Maxn][80],ans2[Maxn][80];
void dfs1(int x,int p){
	dp1[x][0]=1;dp2[x][0]=1;
	for (int i=0;i&lt;G[x].size();i++){
		int v=G[x][i];
		if (v!=p){
			dfs1(v,x);
			for (int j=1;j&lt;=D;j++){
				dp1[x][j]+=dp1[v][j-1];
			}
			for (int j=0;j&lt;g;j++){
				dp2[x][(j+1)%g]+=dp2[v][j];
			}
		}
	}
}
void dfs2(int x,int p,vector&lt;int&gt; U1,vector&lt;int&gt; U2){
	for (int i=0;i&lt;=D;i++){
		ans1[x][i]=dp1[x][i]+U1[i];
		
		U1[i]+=dp1[x][i];
		
	}
	for (int i=0;i&lt;g;i++){
		ans2[x][i]=dp2[x][i]+U2[i];
		U2[i]+=dp2[x][i];
	}
	for (int i=0;i&lt;G[x].size();i++){
		int v=G[x][i];
		if (v==p) continue;
		for (int j=0;j&lt;=D-1;j++){
			U1[j+1]-=dp1[v][j];
		}
		for (int j=0;j&lt;g;j++){
			U2[(j+1)%g]-=dp2[v][j];
		}
		vector&lt;int&gt; N1,N2;
		N1.resize(D+1,0);N2.resize(g,0);
		for (int j=1;j&lt;=D;j++) N1[j]=U1[j-1];
		for (int j=0;j&lt;g;j++){
			N2[(j+1)%g]=U2[j];
		}
		dfs2(v,x,N1,N2);
		for (int j=0;j&lt;=D-1;j++){
			U1[j+1]+=dp1[v][j];
		}
		for (int j=0;j&lt;g;j++){
			U2[(j+1)%g]+=dp2[v][j];
		}
	}
}
bool AV[114];
void mian(){
	for (int i=0;i&lt;Maxn;i++) G[i].clear();
	n=read();a=read();b=read();
//	cerr&lt;&lt;n&lt;&lt;' '&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;b&lt;&lt;endl;
	g=__gcd(a,b);
	D=max(0,((a/g)*(b/g)-(a/g)-(b/g)))*g;
//	cerr&lt;&lt;D&lt;&lt;' '&lt;&lt;g&lt;&lt;endl;
	for (int i=0;i&lt;n-1;i++){
		int u,v;
		u=read();v=read();
		G[u].pb(v);G[v].pb(u);
	}
	memset(dp1,0,sizeof(dp1));memset(dp2,0,sizeof(dp2));
	dfs1(1,-1);
	
	vector&lt;int&gt; V1,V2;
	V1.resize(D+1,0);V2.resize(g,0);
	dfs2(1,-1,V1,V2);
	
	int A=a/g,B=b/g;
	memset(AV,0,sizeof(AV));
	AV[0]=1;
	for (int i=1;i&lt;=D;i++){
		if (i&gt;=a) AV[i]|=AV[i-a];
		if (i&gt;=b) AV[i]|=AV[i-b];
	}
	
	for (int i=1;i&lt;=n;i++){
		int res=ans2[i][0];
		//cerr&lt;&lt;i&lt;&lt;' '&lt;&lt;res&lt;&lt;' ';
		for (int j=0;j&lt;=D;j+=g){
			if (!AV[j]){
			//	cerr&lt;&lt;&quot;DEL&quot;&lt;&lt;j&lt;&lt;endl;
				res-=ans1[i][j];
			}
		}
		printf(&quot;%d &quot;,res);
	}
	printf(&quot;\n&quot;);
}
int main(){
//	freopen(&quot;ex_a2.in&quot;,&quot;r&quot;,stdin);
//	freopen(&quot;ex_a2.out&quot;,&quot;w&quot;,stdout);
	int T=read();
	while (T--){
		mian();
	}
	return 0;
}
</code></pre>
<hr>
<h2 id="c">C</h2>
<p>小YY非常喜欢打电动，某天他在电玩厅里发现了一台新的机器。</p>
<p>这个机器和普通的没什么区别，只需要投入一枚游戏币即可开始一次游戏，机器内部有一个金字塔，高度为hh，从上到下数第ii层有ii个格子。</p>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2020/10/13/RgrvTAIWYmCM6ne.png" alt="image.png" loading="lazy"></figure>
<p>上图即为一个h=4h=4的金字塔。</p>
<p>一次游戏分为若干轮，在第xx轮里（初始为第00轮）小YY可以选择结束游戏，获得ax2+bxax2+bx个彩票的奖励，也可以选择继续掷球。选择掷球后会有一个小球出现在第一层的格子内，它会等概率落在下一层左边或者右边的格子中直到落到最后一层（即第hh层），如果它的最终落点已经存在了其他的小球，那么游戏结束，小YY无法获得任何彩票。如果它的最终落点是空的那么小YY就可以开始下一轮的选择。</p>
<p>给定这台机器的参数a,b,ha,b,h，小YY想知道，如果采取最优的策略，一枚游戏币期望能获得多少彩票？</p>
<h4 id="输入格式-3">输入格式</h4>
<p>第一行一个整数TT，表示测试点个数。</p>
<p>接下来TT个测试点。</p>
<p>每个测试点一行三个正整数h,a,bh,a,b，表示机器的参数。</p>
<h4 id="输出格式-3">输出格式</h4>
<p>对于每个测试点，输出一行一个实数四舍五入到第四位小数，表示答案。</p>
<h4 id="样例输入-1-2">样例输入 1</h4>
<pre><code>3
2 1 1
2 0 1
6 12 14
</code></pre>
<h4 id="样例输出-1-2">样例输出 1</h4>
<pre><code>3.0000
1.0000
63.9481
</code></pre>
<h4 id="数据范围与提示-3">数据范围与提示</h4>
<table>
<thead>
<tr>
<th>测试点编号</th>
<th>hh</th>
</tr>
</thead>
<tbody>
<tr>
<td>11</td>
<td>=2=2</td>
</tr>
<tr>
<td>22</td>
<td>=3=3</td>
</tr>
<tr>
<td>33</td>
<td>=5=5</td>
</tr>
<tr>
<td>44</td>
<td>=8=8</td>
</tr>
<tr>
<td>55</td>
<td>=10=10</td>
</tr>
<tr>
<td>66</td>
<td>=15=15</td>
</tr>
<tr>
<td>77</td>
<td>=21=21</td>
</tr>
<tr>
<td>88</td>
<td>=22=22</td>
</tr>
<tr>
<td>99</td>
<td>=24=24</td>
</tr>
<tr>
<td>1010</td>
<td>=26=26</td>
</tr>
</tbody>
</table>
<p>对于所有的测试点,T≤3,1≤h≤26,0≤a,b≤106T≤3,1≤h≤26,0≤a,b≤106</p>
<!-- more -->
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
#define LL long long
#define pb push_back
#define mp make_pair
#define pii pair&lt;int,int&gt;
using namespace std;
namespace IO
{
    const int sz=1&lt;&lt;15;
    char inbuf[sz],outbuf[sz];
    char *pinbuf=inbuf+sz;
    char *poutbuf=outbuf;
    inline char _getchar()
    {
        if (pinbuf==inbuf+sz)fread(inbuf,1,sz,stdin),pinbuf=inbuf;
        return *(pinbuf++);
    }
    inline void _putchar(char x)
    {
        if (poutbuf==outbuf+sz)fwrite(outbuf,1,sz,stdout),poutbuf=outbuf;
        *(poutbuf++)=x;
    }
    inline void flush()
    {
        if (poutbuf!=outbuf)fwrite(outbuf,1,poutbuf-outbuf,stdout),poutbuf=outbuf;
    }
}
inline int read(){
	int v=0,f=1;
	char c=getchar();
	while (c&lt;'0' || c&gt;'9'){
		if (c=='-') f=-1;
		c=getchar();
	}
	while (c&gt;='0' &amp;&amp; c&lt;='9'){
		v=v*10+c-'0';
		c=getchar();
	}
	return v*f;
}
const int Maxn=30;
int C[Maxn][Maxn];
void _init(){
	C[0][0]=1;
	for(int i=1;i&lt;Maxn;i++){
		C[i][0]=1;
		for (int j=1;j&lt;=i;j++){
			C[i][j]=C[i-1][j]+C[i-1][j-1];
		}
	}
}
int n,a,b;
double p[Maxn];
double dp[67108864];
double Go(int mask){
	if (dp[mask]&gt;=0){
		return dp[mask];
	}
	
	int x=__builtin_popcount(mask);
	double vv=1.0*a*x*x+1.0*b*x;
	
	double v=0.0;
	for (int i=0;i&lt;n;i++){
		if (mask&gt;&gt;i&amp;1) continue;
		int nmask=mask;
		if (n-i-1&lt;i &amp;&amp; !(mask&gt;&gt;(n-i-1)&amp;1)){
			nmask^=1&lt;&lt;(n-i-1);
		}
		else{
			nmask^=1&lt;&lt;i;
		}
		v+=p[i]*Go(nmask);
	}
	return dp[mask]=max(v,vv);
}
void mian(){
	
	n=read();a=read();b=read();
	int tot=1&lt;&lt;(n-1);
	for (int i=0;i&lt;n;i++){
		p[i]=(double)C[n-1][i]/tot;
	}
	for (int i=0;i&lt;(1&lt;&lt;n);i++){
		dp[i]=-1.0;
	}
	printf(&quot;%.4lf\n&quot;,Go(0));
}
int main(){
	_init();
	int T=read();
	while (T--){
		mian();
	}
}
</code></pre>
<hr>
<h2 id="d">D</h2>
<p>小YY被困在了一个NN行MM列的网格图上。</p>
<p>从上往下第ii行从左往右第jj列(1≤i≤N,1≤j≤M)(1≤i≤N,1≤j≤M)的格子坐标为(i,j)(i,j). 他的初始位置在(1,1)(1,1)格子的左侧，第一步一定走到(1,1)(1,1). 网格图有一个终点位于(N,M)(N,M)格子的右侧，只能从(N,M)(N,M)格子向右走到。</p>
<p>小YY的初始方向向右，每一步小YY会沿着当前方向前进一格然后旋转90度（他可以选择顺时针或者逆时针），小YY不愿意走回头路，所以他不希望旋转过后他的方向向左。</p>
<p>你需要帮助他设计一条路线，这条路线不能经过相同的格子且最终要到达终点。</p>
<p>小YY的朋友小ZZ觉得这个问题太过简单，小ZZ想知道有多少种不同的设计方案。</p>
<p>小ZZ的朋友小AA觉得这个问题还是太简单，初始图上没有障碍物，小AA给出了QQ次修改，每次修改在网格图上的某一个点上添加障碍物，你设计的路线不能经过含有障碍物的点，每次修改后你需要回答有多少种不同的设计方案，由于这个数可能很大，所以你只需要输出答案对998244353998244353取模的结果。</p>
<h4 id="输入格式-4">输入格式</h4>
<p>第一行三个正整数N,M,QN,M,Q</p>
<p>接下来QQ行每行两个正整数x,yx,y表示修改的格子。</p>
<p><strong>可能存在被修改多次的格子</strong></p>
<h4 id="输出格式-4">输出格式</h4>
<p>输出QQ行，每行一个整数，表示每次修改后的答案。</p>
<h4 id="样例输入-1-3">样例输入 1</h4>
<pre><code>3 6 2
1 5
3 3
</code></pre>
<h4 id="样例输出-1-3">样例输出 1</h4>
<pre><code>2
1
</code></pre>
<h4 id="样例输入-2-2">样例输入 2</h4>
<pre><code>4 7 2
1 6
3 3
</code></pre>
<h4 id="样例输出-2-2">样例输出 2</h4>
<pre><code>8
3
</code></pre>
<h4 id="数据范围与提示-4">数据范围与提示</h4>
<table>
<thead>
<tr>
<th>测试点编号</th>
<th>NN</th>
<th>MM</th>
<th>QQ</th>
</tr>
</thead>
<tbody>
<tr>
<td>11</td>
<td>=3=3</td>
<td>≤5≤5</td>
<td>=5=5</td>
</tr>
<tr>
<td>22</td>
<td>=2=2</td>
<td>≤105≤105</td>
<td>=105=105</td>
</tr>
<tr>
<td>33</td>
<td>=3=3</td>
<td>≤103≤103</td>
<td>=5=5</td>
</tr>
<tr>
<td>44</td>
<td>=3=3</td>
<td>≤103≤103</td>
<td>=103=103</td>
</tr>
<tr>
<td>55</td>
<td>=3=3</td>
<td>≤105≤105</td>
<td>=105=105</td>
</tr>
<tr>
<td>66</td>
<td>=3=3</td>
<td>≤105≤105</td>
<td>=105=105</td>
</tr>
<tr>
<td>77</td>
<td>=3=3</td>
<td>≤109≤109</td>
<td>=100=100</td>
</tr>
<tr>
<td>88</td>
<td>=3=3</td>
<td>≤109≤109</td>
<td>=105=105</td>
</tr>
<tr>
<td>99</td>
<td>=4=4</td>
<td>≤105≤105</td>
<td>=5×104=5×104</td>
</tr>
<tr>
<td>1010</td>
<td>=4=4</td>
<td>≤109≤109</td>
<td>=105=105</td>
</tr>
</tbody>
</table>
<p>对于所有的数据,2≤N≤4,3≤M≤109,1≤Q≤105,1≤x≤N,1≤y≤M2≤N≤4,3≤M≤109,1≤Q≤105,1≤x≤N,1≤y≤M</p>
<!-- more -->
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
#define LL long long
#define pb push_back
#define mp make_pair
#define pii pair&lt;int,int&gt;
using namespace std;
namespace IO
{
    const int sz=1&lt;&lt;15;
    char inbuf[sz],outbuf[sz];
    char *pinbuf=inbuf+sz;
    char *poutbuf=outbuf;
    inline char _getchar()
    {
        if (pinbuf==inbuf+sz)fread(inbuf,1,sz,stdin),pinbuf=inbuf;
        return *(pinbuf++);
    }
    inline void _putchar(char x)
    {
        if (poutbuf==outbuf+sz)fwrite(outbuf,1,sz,stdout),poutbuf=outbuf;
        *(poutbuf++)=x;
    }
    inline void flush()
    {
        if (poutbuf!=outbuf)fwrite(outbuf,1,poutbuf-outbuf,stdout),poutbuf=outbuf;
    }
}
inline int read(){
	int v=0,f=1;
	char c=getchar();
	while (c&lt;'0' || c&gt;'9'){
		if (c=='-') f=-1;
		c=getchar();
	}
	while (c&gt;='0' &amp;&amp; c&lt;='9'){
		v=v*10+c-'0';
		c=getchar();
	}
	return v*f;
}

const int Maxn=214514;
const int mod=998244353;
int n,m,q;
struct mat{
	int v[4][4];
	int x,y;
	mat(int _x=0,int _y=0){
		x=_x,y=_y;
		memset(v,0,sizeof(v));
	}
};
mat mul(mat A,mat B){
	mat C(A.x,B.y);
	for (int i=0;i&lt;A.x;i++){
		for (int j=0;j&lt;B.y;j++){
			LL tmp=0;
			for (int k=0;k&lt;A.y;k++){
				tmp+=1ll*A.v[i][k]*B.v[k][j];
			}
			C.v[i][j]=tmp%mod;
		}
	}
	return C;
}
mat Qp(mat A,int p){
	
	mat ret(A.x,A.x);
	for (int i=0;i&lt;A.x;i++) ret.v[i][i]=1;
	while (p){
		if (p&amp;1){
			ret=mul(ret,A);
		}
		p&gt;&gt;=1;
		A=mul(A,A);
	}
	return ret;
}

int x[Maxn],y[Maxn];
vector&lt;int&gt; X;
mat O[16];
mat S[Maxn],tree[Maxn*4]; 
int msk[Maxn];
void build(int p,int l,int r){
	if (l==r){
		tree[p]=S[l];
		return;
	}
	int mid=l+r&gt;&gt;1;
	build(p*2,l,mid);
	build(p*2+1,mid+1,r);
	tree[p]=mul(tree[p*2],tree[p*2+1]);
}
void modify(int p,int l,int r,int pos,mat T){
	if (l==r){
		tree[p]=T;
		return;
	}
	int mid=l+r&gt;&gt;1;
	if (pos&lt;=mid){
		modify(p*2,l,mid,pos,T);
	}
	else{
		modify(p*2+1,mid+1,r,pos,T);
	}
	tree[p]=mul(tree[p*2],tree[p*2+1]);
}
int main(){
	n=read();m=read();q=read();
	assert(n&gt;=2 &amp;&amp; n&lt;=4);
	assert(m&gt;=1 &amp;&amp; m&lt;=1000000000);
	assert(q&gt;=1 &amp;&amp; q&lt;=100000);
	for (int i=0;i&lt;q;i++){
		x[i]=read();y[i]=read();x[i]--;
		assert(x[i]&gt;=0 &amp;&amp; x[i]&lt;n &amp;&amp; y[i]&gt;=1 &amp;&amp; y[i]&lt;=m);
		X.pb(y[i]);X.pb(y[i]+1);
	}
	X.pb(m+1);X.pb(1);sort(X.begin(),X.end());
	X.resize(unique(X.begin(),X.end())-X.begin());
	
	for (int i=0;i&lt;(1&lt;&lt;n);i++){
		O[i].x=O[i].y=n;
		for (int j=0;j&lt;n-1;j++){
			if (i&gt;&gt;j&amp;1) continue;
			if (i&gt;&gt;(j+1)&amp;1) continue;
			
			O[i].v[j][j+1]=O[i].v[j+1][j]=1;
		}
	}
	//cerr&lt;&lt;123&lt;&lt;endl;
	int N=X.size();
	//0-(N-2);
	for (int i=0;i&lt;N-1;i++){
		int len=X[i+1]-X[i];
		assert(len&gt;=0);
		S[i]=Qp(O[0],len);
	}
	build(1,0,N-2);
	for (int i=0;i&lt;q;i++){
		int pos=lower_bound(X.begin(),X.end(),y[i])-X.begin();
		msk[pos]|=1&lt;&lt;x[i];
		modify(1,0,N-2,pos,O[msk[pos]]);
		
		printf(&quot;%d\n&quot;,tree[1].v[0][n-1]);
	}
	return 0;
}
</code></pre>

            </div>
            <hr style="width: 80%;">
            
            
            <div class="postfooter">
                <ul class="post-copyright">
                    <li><strong>文章作者：</strong></li>
            <li><strong>原文链接：</strong>https://aurora-wangq.github.io/post/csp-s2-zhou-mo-shua-ti-ban-di-yi-chang/</li>
            <li><strong>版权声明：</strong>本博客所有文章除特别声明外，均采用<i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA
                许可协议。转载请注明出处！</li>
            </ul>
        </div>
        <div id="otherpost">
            
            <div class="prev-post-pc">
                <div id="ppcontainer" onclick="window.location.href= 'https://aurora-wangq.github.io/post/zi-fu-chuan-ha-xi/';return false">
                    
                    <img src="https://aurora-wangq.github.io//post-images/zi-fu-chuan-ha-xi.jpg" style="width: 100%;" class="opimg">
                    
                    <h4 class="optitle">2020-10-17</h4>
                </div>
            </div>
            <div class="prev-post">
                上一篇 <a href="https://aurora-wangq.github.io/post/zi-fu-chuan-ha-xi/">2020-10-17</a>
            </div>
            
            
            <div class="next-post-pc">
                <div id="npcontainer" onclick="window.location.href= 'https://aurora-wangq.github.io/post/mo-ban-da-gen-dui/';return false">
                    
                    <img src="https://aurora-wangq.github.io//post-images/mo-ban-da-gen-dui.jpg" style="width: 100%;" class="opimg">
                    
                    <h4 class="optitle">[模板]大根堆</h4>
                </div>
            </div>
            <div class="next-post">
                下一篇 <a href="https://aurora-wangq.github.io/post/mo-ban-da-gen-dui/">[模板]大根堆</a>
            </div>
            
        </div>
    </div>
    </div>
    </div>

</body>
<script>
    //文章阅读热度
    var pl = $("#pl").html();
    var rootaddr = $("#rootaddr").html();
    pl = pl.replace(rootaddr, "");
    $("#hotnum").attr('id', pl);
</script>
                <div id="comment" class="comment" style="background: white">
                    <div class="commentcontainer">
                        
                        <p>请到客户端“主题--自定义配置--valine”中填入ID和KEY</p>
                        
                    </div>
                </div>
            </div>
            <div class="col-md-2 col-lg-3">
            </div>
            <div id="bg">
            </div>
        </div>
        
        
        <div class="toc-container">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#a">A</a><br>
*
<ul>
<li><a href="#%E8%BE%93%E5%85%A5%E6%A0%BC%E5%BC%8F">输入格式</a></li>
<li><a href="#%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F">输出格式</a></li>
<li><a href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%85%A5-1">样例输入 1</a></li>
<li><a href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%87%BA-1">样例输出 1</a></li>
<li><a href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%85%A5-2">样例输入 2</a></li>
<li><a href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%87%BA-2">样例输出 2</a></li>
<li><a href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%85%A5-3">样例输入 3</a></li>
<li><a href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%87%BA-3">样例输出 3</a></li>
<li><a href="#%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4%E4%B8%8E%E6%8F%90%E7%A4%BA">数据范围与提示</a></li>
</ul>
</li>
<li><a href="#b">B</a><br>
*
<ul>
<li><a href="#%E8%BE%93%E5%85%A5%E6%A0%BC%E5%BC%8F-2">输入格式</a></li>
<li><a href="#%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F-2">输出格式</a></li>
<li><a href="#%E8%BE%93%E5%85%A5%E6%A0%B7%E4%BE%8B-1">输入样例 1</a></li>
<li><a href="#%E8%BE%93%E5%87%BA%E6%A0%B7%E4%BE%8B-1">输出样例 1</a></li>
<li><a href="#%E8%BE%93%E5%85%A5%E6%A0%B7%E4%BE%8B-2">输入样例 2</a></li>
<li><a href="#%E8%BE%93%E5%87%BA%E6%A0%B7%E4%BE%8B-2">输出样例 2</a></li>
<li><a href="#%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4%E4%B8%8E%E6%8F%90%E7%A4%BA-2">数据范围与提示</a></li>
</ul>
</li>
<li><a href="#c">C</a><br>
*
<ul>
<li><a href="#%E8%BE%93%E5%85%A5%E6%A0%BC%E5%BC%8F-3">输入格式</a></li>
<li><a href="#%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F-3">输出格式</a></li>
<li><a href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%85%A5-1-2">样例输入 1</a></li>
<li><a href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%87%BA-1-2">样例输出 1</a></li>
<li><a href="#%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4%E4%B8%8E%E6%8F%90%E7%A4%BA-3">数据范围与提示</a></li>
</ul>
</li>
<li><a href="#d">D</a><br>
*
<ul>
<li><a href="#%E8%BE%93%E5%85%A5%E6%A0%BC%E5%BC%8F-4">输入格式</a></li>
<li><a href="#%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F-4">输出格式</a></li>
<li><a href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%85%A5-1-3">样例输入 1</a></li>
<li><a href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%87%BA-1-3">样例输出 1</a></li>
<li><a href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%85%A5-2-2">样例输入 2</a></li>
<li><a href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%87%BA-2-2">样例输出 2</a></li>
<li><a href="#%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4%E4%B8%8E%E6%8F%90%E7%A4%BA-4">数据范围与提示</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
    </div>
    </div>
    <div class="tog">
        <div class="toggleContainer">
            <div class="toggle">
                <i class="fas fa-angle-double-up"></i>
            </div>
        </div>
    </div>
    <div id="bgchoice" style="display: none"></div>
    
    <div id="bgurl" style="display:none"></div>
    
    </div>
</body>
<script>
    var img = $("img");
    for (var i = 0; i < img.length; i++) {
        if (img.eq(i).attr("class") == undefined) {
            img.eq(i).attr("class", "lazyload");
            var imgsrc = img.eq(i).attr("src");
            img.eq(i).attr("data-original", imgsrc);
            img.eq(i).attr("src", "");
            img.eq(i).hide();
        }
    }
</script>
<script>
    hljs.initHighlightingOnLoad();
</script>
<script>
    //寻找所有code标签，加复制按钮鸭！(行内代码除外)
    var codes = document.getElementsByTagName('code');
    if (codes.length) {
        for (var i = 0; i < codes.length; i++) {
            //高度/行高=文本行数
            // var rowNum=Math.round(codes[i].height()/parseFloat(codes[i].css('line-height')));
            // console.log("当前有"+rowNum+"行");
            var code_id = "code_id_" + i;
            codes[i].setAttribute("id", code_id);
            var ci = "#" + code_id;
            var codedot = $(ci);
            var rowNum = Math.round(codedot.height() / parseFloat(codedot.css('line-height')));
            if (rowNum <= 1) continue;
            var btn = document.createElement("button");
            btn.setAttribute("class", "copybt");
            btn.setAttribute("data-clipboard-target", "#" + code_id);
            btn.innerHTML = '复制代码';
            codes[i].parentNode.insertBefore(btn, codes[i]);
        }
    };
    var cop = new ClipboardJS('.copybt');
    var codeCopyText = $("#codeCopyText").html();
    cop.on('success', function (e) {
        alert(codeCopyText);
        e.clearSelection();
    });
    cop.on('error', function (e) {
        alert("矮油，复制失败了...手动复制吧勇士！");
        e.clearSelection();
    });
</script>

<script>
    $(function () {
        $('.toggleContainer').click(function () {
            $('html,body').animate({
                scrollTop: '0px'
            }, 800);
        });
        $(window).scroll(function () {
            var st = $(window).scrollTop();
            if (st > 30) {
                $(".toggleContainer").fadeIn(400);
            } else {
                $(".toggleContainer").fadeOut(100);
            }
        });
    });
</script>

<script>
    var bgchoice = $('#bgchoice').html();
    var bg = $('#bg');
    var bgurl = document.getElementById("bgurl").innerHTML;
    if (bgchoice == 'default')
        for (var i = 0; i < 3; i++)
            bgurl = bgurl.replace("\\", "/");
    bg.css("background", "url('" + bgurl + "')");
</script>




<!-- 动态更改上(下)一篇博客图片框长宽 -->
<script>
    npcontainer = document.querySelector('#npcontainer');
    npstyle = window.getComputedStyle(npcontainer, null);
    npwidth = npstyle.width;
    npheight = 0.6 * Number(npwidth.replace("px", ""));
    npheight = npheight.toString() + "px";
    var op = $(".opimg");
    op.css("height", npheight);
</script>

<script src="https://aurora-wangq.github.io//media/share/dist/Share.js"></script>

<script>
    var avatarSrc = $(".avatar").attr("src");
    var dp = document.getElementsByClassName("describtion")[0].innerHTML;
</script>


<script>
    var title = document.getElementById("texttitle").getElementsByTagName("h2");
    
    var share = new Share('.share', {
        title: title[0].innerHTML,
        initialized: true,
        //默认获取网站描述
        description: dp,
        //网站图片默认获取的是设置的用户头像
        image: avatarSrc,
        //激活的分享网站
        sites: ["weibo", "qq", "wechat", "douban", "qzone", "facebook", "twitter", "google"],
        //微信分享PC端会生成二维码分享,移动端如果可以唤起微信最好
        wechatQrcodeTitle: "微信扫一扫：分享", // 微信二维码提示文字
        wechatQrcodeHelper: '<p>微信里扫一下二维码</p><p>便可将本文分享至朋友圈。</p>',
        //关闭的网站分享
        disabled: ['google', 'linkedin'],
        wechatQrcodePosition: 'bottom'
    });

    //点击分享按钮展现出分享icons
    var sharebtnTag = false;
    $(".sharebtn").click(function () {
        if(!sharebtnTag)
        {
            $(".share").show();
            sharebtnTag = true;
        }
        else
        {
            $(".share").hide();
            sharebtnTag = false;
        }
    })

    var donatebtnTag = false;
    $(".donateImg").click(function () {
        if(!donatebtnTag)
        {
            $(".donate").show();
            donatebtnTag = true;
        }
        else{
            $(".donate").hide();
            donatebtnTag = false;
        }
    })

    //加载后的事件同步（阅读量、移动端评论等
    window.onload=function(){
        getHotnum();
        var sharepc = $(".share").eq(0).html();
        $(".share").eq(1).html(sharepc);
        document.getElementById("veditor").setAttribute("placeholder", jrsc);
        aplayerbtnInit();
    }
</script>


<script>
    jQuery(document).ready(function ($) {
        function lazyload() {
            var oLazyload = $("img.lazyload"),
                fLazyload = function (hLazyload) {
                    var nLazyload = $(window).height() + $(document).scrollTop();
                    oLazyload.each(function () {
                        $(this).offset().top < nLazyload && ($(this).trigger("appear"), oLazyload =
                            oLazyload.not(this));
                    }), 0 == oLazyload.length && $(window).unbind("scroll", fLazyload);
                };
            oLazyload.each(function () {
                $(this).one("appear", function () {
                    $(this).attr("src", $(this).attr("data-original"));
                    $(this).fadeIn(500);
                });
            }), $(window).bind("scroll", fLazyload), fLazyload();
        }
        lazyload();
    });
</script>

<!-- <script src="https://aurora-wangq.github.io//media/js/av-min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@3.13.0/dist/av-min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@4.6.1/dist/av-live-query-min.js"></script> -->

<script>
    function getHotnum() {
        //文章阅读热度（重构，利用leancloud原生api）
        var pl = $("#pl").html();
        var rootaddr = $("#rootaddr").html();
        pl = pl.replace(rootaddr, "");

        var appid = '';
        var appkey = '';
        console.log(appid, appkey)
        if(AV==undefined)
            AV.init({
                appId: appid,
                appKey: appkey
            });
        const query = new AV.Query('Counter');
        query.equalTo('url', pl);
        var time = 'Loading...';
        query.find().then(function (results) {
            console.log(results)
            if (results.length == 0) {
                console.log("0")
                var NewCounter = AV.Object.extend('Counter');
                var nc = new NewCounter();
                nc.save({
                    time: 1,
                    title: "CSP-S2周末刷题班（第一场）",
                    url: pl,
                    xid: pl,
                }).then(function (object) {
                    $(".hotnum").eq(0).html(1);
                    $(".hotnum").eq(1).html(1);
                });
            } else {
                id = results[0].id;
                var todo = AV.Object.createWithoutData('Counter', id);
                time = results[0].attributes.time + 1;
                todo.set("time", time);
                todo.save();
                console.log(todo);
                $(".hotnum").eq(0).html(time);
                $(".hotnum").eq(1).html(time);
            }

        }, function (error) {
            console.log(error)
        });
    }
</script>